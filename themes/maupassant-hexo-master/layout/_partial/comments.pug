if theme.valine.enable == true
    #vcomment
    script(src='//cdn1.lncld.net/static/js/3.0.4/av-min.js')
    script(src='//unpkg.com/valine@latest/dist/Valine.min.js')
    script.
      var notify = '#{ theme.valine.notify }';
      var verify = '#{ theme.valine.verify }';
      var visitor = '#{ theme.valine.visitor }';
      var GUEST_INFO = ['nick','mail','link'];
      var guest_info = '#{ theme.valine.guest_info }'.split(',').filter(function(item){
        return GUEST_INFO.indexOf(item) > -1
      });
      guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
      window.valine = new Valine({
        el:'#vcomment',
        notify:notify,
        verify:verify,
        visitor:visitor,
        appId:'#{theme.valine.appid}',
        appKey:'#{theme.valine.appkey}',
        placeholder:'#{theme.valine.placeholder}',
        avatar:'#{theme.valine.avatar}',
        guest_info:guest_info,
        pageSize:'#{theme.valine.pageSize}'
      })
      $(".vemoji-btn").text('表情');$(".vpreview-btn").text('文字');$(".vedit").attr("style","background:url('../img/commentbox.gif') center no-repeat;");